{% extends "base_admin.html" %}
{% load static %}
{% block custom_head_tag %}
    <script src="{% static "js/charts.js" %}"></script>
{% endblock custom_head_tag %}
{% block title %}Overview{% endblock title %}

{% block name %}{{admin}}{% endblock name %}

{% block content %}
    <div class="w-full mt-5 rounded-md my-auto">
        <h3 class="text-2xl font-bold">Overview</h3>
        <div class="w-full flex flex-row justify-center gap-14 border-2 bg-white h-fit p-10">
            <div class=" flex flex-row justify-around h-fit gap-4">
                <img class="h-16 self-center" src="{% static "images/worker.svg" %}" />
                <div class="flex flex-col justify-center">
                    <p class="font-medium text-gray-500 text-xs">Total Registered Users</p>
                    <h1 class="text-4xl font-bold">{{user_count}}</h1>
                </div>
            </div>
            <div class="flex flex-row justify-center gap-4">
                <img class="h-16 self-center" src="{% static "images/work.svg" %}" />
                <div class="flex flex-col justify-center">
                    <p class="font-medium text-gray-500 text-xs">Total Jobs Created</p>
                    <h1 class="text-4xl font-bold">{{job_count_sum}}</h1>
                </div>
            </div>
            <div class=" flex flex-row justify-center gap-4">
                <img class="h-16 self-center" src="{% static "images/money.svg" %}" />
                <div class="flex flex-col justify-center">
                    <p class="font-medium text-gray-500 text-xs">Total Revenue Generated</p>
                    <h1 class="text-4xl font-bold">â‚± {{income_generated}}</h1>
                </div>
                
            </div>
        </div>
        <div class="w-full flex flex-row py-4 gap-4">
            <div class="flex w-1/3 bg-white p-4 h-fit border-2">
                <canvas id="registered-users" class="h-full"></canvas>
            </div>
            <div class="flex w-1/3 bg-white p-4 h-fit border-2">
                <canvas id="job-created" class="h-full"></canvas>
            </div>
            <div class="flex w-1/3 bg-white p-4 h-fit border-2">
                <canvas id="job-revenue" class="h-full"></canvas>
            </div>
        </div>
    </div>
    {{registration_chart|safe}}
    
    <script type="application/json" id="user-date">{{ dates|safe }}</script>
    <script type="application/json" id="user-count">{{ count|safe }}</script>
    <script type="application/json" id="job-date">{{ job_date|safe }}</script>
    <script type="application/json" id="job-count">{{ job_count|safe }}</script>
    <script type="application/json" id="income-date">{{ income_date|safe }}</script>
    <script type="application/json" id="income-count">{{ income_count|safe }}</script>
{% endblock content %}